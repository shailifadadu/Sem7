UDP Client.c
#include<sys/types.h>
#include<sys/socket.h>
#include<netinet/in.h>
#include<stdio.h>
#define MAXLINE 100
#define SERV_PORT 8000

int main(int argc,char** argv)
{
	int sockfd;
	struct sockaddr_in servaddr;
	int n;
	char sendline[MAXLINE],recvline[MAXLINE];

	if(argc!=2)
	{
		fprintf(stderr,"Usage:%s IP-Address\n",argv[0]);
		exit(-1);
	}
	
	/*Initialize socket address structure*/
	bzero(&servaddr,sizeof(servaddr));
    	servaddr.sin_family=AF_INET;

	if(inet_pton(AF_INET,argv[1],&servaddr.sin_addr)<0)
	{
		fprintf(stderr,"Error in inet_pton\n");
	}

	servaddr.sin_port=htons(SERV_PORT);

	/*Create socket*/
	sockfd=socket(AF_INET,SOCK_DGRAM,0);
	
	while(fgets(sendline,MAXLINE,stdin)!=NULL)
	{
		/*Send the message to the server*/
		sendto(sockfd,sendline,strlen(sendline),0,(struct sockaddr*)&servaddr,sizeof(servaddr));
		/*wait for response and receive the response*/
		n=recvfrom(sockfd,recvline,MAXLINE,0,NULL,NULL);
		recvline[n]=0;
		/*Display what the server sent in reply*/
		fputs(recvline,stdout);
	}	


}

//////////////////////UDP server.c
#include<sys/types.h>
#include<sys/socket.h>
#include<netinet/in.h>
#include<stdio.h>
#define MAXLINESIZE 100
#define SERV_PORT 8000

int main(int argc,char** argv)
{
	int sockfd;
	struct sockaddr_in servaddr,cliaddr;
	int n;
	socklen_t len;
	char mesg[MAXLINESIZE];
	
	/*Create socket*/
	sockfd=socket(AF_INET,SOCK_DGRAM,0);
			
	/*Initialize socket address structure*/
	bzero(&servaddr,sizeof(servaddr));
    	servaddr.sin_family=AF_INET;
	servaddr.sin_port=htons(SERV_PORT);

	/*bind socket address to the socket*/
	bind(sockfd,(struct sockaddr*)&servaddr,sizeof(servaddr));
	
	for(;;)
	{
		len=sizeof(cliaddr);
		/*wait for datagram to arrive,receive a datagram*/
		n=recvfrom(sockfd,mesg,MAXLINESIZE,0,(struct sockaddr*)&cliaddr,&len);
		/*send back the datagram to the client from which it arrived*/
		sendto(sockfd,mesg,n,0,(struct sockaddr*)&cliaddr,len);
	}	


}

